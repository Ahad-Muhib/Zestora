{% extends 'base.html' %}
{% load static %}

{% block title %}Zestora - Unleash Culinary Excellence{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">

<!-- Hero Section -->
<section class="hero">
    <div class="hero-content">
        <h1>UNLEASH CULINARY EXCELLENCE</h1>
        <p>Explore a world of flavors, discover handcrafted recipes, and ignite the aroma of our passion for cooking in your kitchen.</p>
        <a href="{% url 'recipes:recipe_list' %}" class="btn btn-primary">EXPLORE RECIPES</a>
    </div>
    </section>

<!-- Our Diverse Palette Section -->
<section class="palette-section">
    <div class="palette-container">
        <div class="palette-content">
            <h2>OUR DIVERSE PALETTE</h2>
            <p>If you're a breakfast enthusiast, a connoisseur of savory delights, or on the hunt for irresistible desserts, we have curated recipes to satisfy every palate.</p>
            <button class="see-more-btn">SEE MORE</button>
        </div>
        <div class="palette-menu">
            <div class="menu-item">
                <span>BREAKFAST</span>
                <div class="menu-icon">üç≥</div>
            </div>
            <div class="menu-item">
                <span>LUNCH</span>
                <div class="menu-icon">üçΩÔ∏è</div>
            </div>
            <div class="menu-item">
                <span>DINNER</span>
                <div class="menu-icon">üçñ</div>
            </div>
            <div class="menu-item">
                <span>DESSERT</span>
                <div class="menu-icon">üç∞</div>
            </div>
            <div class="menu-item">
                <span>QUICK BITE</span>
                <div class="menu-icon">ü•™</div>
            </div>
        </div>
    </div>
    </section>

<!-- Featured Recipes Section -->
<section class="featured-section">
    <div class="featured-container">
        <div class="featured-header">
            <h2>FEATURED RECIPES</h2>
            <div class="nav-arrows">
                <button class="nav-arrow" id="prevBtn">‚Äπ</button>
                <button class="nav-arrow" id="nextBtn">‚Ä∫</button>
            </div>
        </div>
        <div class="recipes-carousel-container">
            <div class="recipes-grid" id="featuredCarousel">
                {% for recipe in featured_recipes %}
                <div class="recipe-card">
                    <div class="recipe-image">
                        {% if recipe.image %}
                            {% if recipe.image.name|slice:":8" == "recipes/" %}
                                <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                            {% else %}
                                <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                            {% endif %}
                        {% else %}
                            <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üçΩÔ∏è</div>
                        {% endif %}
                    </div>
                    <div class="recipe-content">
                        <h3 class="recipe-title">{{ recipe.title }}</h3>
                        <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                        <div class="recipe-meta">
                            <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                        </div>
                        <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                    </div>
                </div>
                {% empty %}
                <!-- Fallback content if no featured recipes -->
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="{% static 'images/recipes/herb-chicken.jpg' %}" alt="Savory Herb-Infused Chicken">
                    </div>
                    <div class="recipe-content">
                        <h3 class="recipe-title">Savory Herb-Infused Chicken</h3>
                        <p class="recipe-description">Indulge in the rich and savory symphony of flavors with our Savory Herb-Infused Chicken.</p>
                        <div class="recipe-meta">
                            <span>45 MIN ‚Ä¢ EASY PREP ‚Ä¢ 5 PEOPLE</span>
                        </div>
                        <a href="{% url 'recipes:recipe_list' %}" class="view-recipe-btn">VIEW RECIPES</a>
                    </div>
                </div>
                {% endfor %}
                
                <!-- Add more recent recipes to fill the carousel -->
                {% for recipe in recent_recipes|slice:":6" %}
                    {% if not recipe.featured %}
                    <div class="recipe-card">
                        <div class="recipe-image">
                            {% if recipe.image %}
                                {% if recipe.image.name|slice:":8" == "recipes/" %}
                                    <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                                {% else %}
                                    <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                                {% endif %}
                            {% else %}
                                <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üçΩÔ∏è</div>
                            {% endif %}
                        </div>
                        <div class="recipe-content">
                            <h3 class="recipe-title">{{ recipe.title }}</h3>
                            <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                            <div class="recipe-meta">
                                <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                            </div>
                            <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
    </section>

<!-- Journey Section -->
<section class="journey-section">
    <div class="journey-container">
        <div class="journey-header">
            <div class="journey-badge">RECIPES</div>
            <h2>EMBARK ON A JOURNEY</h2>
            <p class="journey-subtitle">With our diverse collection of recipes, there's something to satisfy every palate.</p>
        </div>
        <div class="category-tabs">
            <a href="#" class="category-tab active" data-category="all">ALL</a>
            <a href="#" class="category-tab" data-category="vegan">VEGAN</a>
            <a href="#" class="category-tab" data-category="breakfast">BREAKFAST</a>
            <a href="#" class="category-tab" data-category="lunch">LUNCH</a>
            <a href="#" class="category-tab" data-category="dinner">DINNER</a>
            <a href="#" class="category-tab" data-category="dessert">DESSERT</a>
            <a href="#" class="category-tab" data-category="quick-bite">QUICK BITE</a>
        </div>
        <div class="recipes-journey-grid">
            <!-- Display recipes from different categories -->
            
            <!-- BREAKFAST recipes -->
            {% for recipe in breakfast_recipes %}
            <div class="recipe-card" data-category="breakfast">
                <div class="recipe-image">
                    {% if recipe.image %}
                        {% if recipe.image.name|slice:":8" == "recipes/" %}
                            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                        {% else %}
                            <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                        {% endif %}
                    {% else %}
                        <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üç≥</div>
                    {% endif %}
                </div>
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ recipe.title }}</h3>
                    <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                    </div>
                    <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                </div>
            </div>
            {% endfor %}
            
            <!-- LUNCH recipes -->
            {% for recipe in lunch_recipes %}
            <div class="recipe-card" data-category="lunch">
                <div class="recipe-image">
                    {% if recipe.image %}
                        {% if recipe.image.name|slice:":8" == "recipes/" %}
                            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                        {% else %}
                            <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                        {% endif %}
                    {% else %}
                        <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üçΩÔ∏è</div>
                    {% endif %}
                </div>
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ recipe.title }}</h3>
                    <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                    </div>
                    <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                </div>
            </div>
            {% endfor %}
            
            <!-- DINNER recipes -->
            {% for recipe in dinner_recipes %}
            <div class="recipe-card" data-category="dinner">
                <div class="recipe-image">
                    {% if recipe.image %}
                        {% if recipe.image.name|slice:":8" == "recipes/" %}
                            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                        {% else %}
                            <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                        {% endif %}
                    {% else %}
                        <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üçñ</div>
                    {% endif %}
                </div>
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ recipe.title }}</h3>
                    <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                    </div>
                    <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                </div>
            </div>
            {% endfor %}
            
            <!-- DESSERT recipes -->
            {% for recipe in dessert_recipes %}
            <div class="recipe-card" data-category="dessert">
                <div class="recipe-image">
                    {% if recipe.image %}
                        {% if recipe.image.name|slice:":8" == "recipes/" %}
                            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                        {% else %}
                            <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                        {% endif %}
                    {% else %}
                        <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üç∞</div>
                    {% endif %}
                </div>
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ recipe.title }}</h3>
                    <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                    </div>
                    <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                </div>
            </div>
            {% endfor %}
            
            <!-- APPETIZER/QUICK BITE recipes -->
            {% for recipe in appetizer_recipes %}
            {% if recipe.slug != "stuffed-mushrooms" %}
            <div class="recipe-card" data-category="quick-bite">
                <div class="recipe-image">
                    {% if recipe.image %}
                        {% if recipe.image.name|slice:":8" == "recipes/" %}
                            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                        {% else %>
                            <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                        {% endif %}
                    {% else %>
                        <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">ü•™</div>
                    {% endif %}
                </div>
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ recipe.title }}</h3>
                    <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                    </div>
                    <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                </div>
            </div>
            {% endif %}
            {% endfor %}
            
            <!-- VEGAN recipes (filter from all recipes) -->
            {% for recipe in recent_recipes %}
                {% if "vegan" in recipe.title|lower or "vegetarian" in recipe.title|lower or "quinoa" in recipe.title|lower %}
                <div class="recipe-card" data-category="vegan">
                    <div class="recipe-image">
                        {% if recipe.image %}
                            {% if recipe.image.name|slice:":8" == "recipes/" %}
                                <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                            {% else %}
                                <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                            {% endif %}
                        {% else %}
                            <div style="height: 250px; background: linear-gradient(45deg, #4CAF50, #8BC34A); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">ü•ó</div>
                        {% endif %}
                    </div>
                    <div class="recipe-content">
                        <h3 class="recipe-title">{{ recipe.title }}</h3>
                        <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                        <div class="recipe-meta">
                            <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                        </div>
                        <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                    </div>
                </div>
                {% endif %}
            {% endfor %}
            
            <!-- Fill remaining space with recent recipes as "all" category -->
            {% for recipe in recent_recipes|slice:":8" %}
            <div class="recipe-card" data-category="all">
                <div class="recipe-image">
                    {% if recipe.image %}
                        {% if recipe.image.name|slice:":8" == "recipes/" %}
                            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}">
                        {% else %}
                            <img src="{% static recipe.image %}" alt="{{ recipe.title }}">
                        {% endif %}
                    {% else %}
                        <div style="height: 250px; background: linear-gradient(45deg, #ff6b5a, #ff8c42); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem;">üçΩÔ∏è</div>
                    {% endif %}
                </div>
                <div class="recipe-content">
                    <h3 class="recipe-title">{{ recipe.title }}</h3>
                    <p class="recipe-description">{{ recipe.description|truncatewords:15 }}</p>
                    <div class="recipe-meta">
                        <span>{{ recipe.total_time }} MIN ‚Ä¢ {{ recipe.get_difficulty_display|upper }} ‚Ä¢ {{ recipe.servings }} PEOPLE</span>
                    </div>
                    <a href="{% url 'recipes:recipe_detail' recipe.slug %}" class="view-recipe-btn">VIEW RECIPE</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    </section>

<!-- Chronicle Section -->
<section class="chronicle-section">
    <div class="chronicle-container">
        <div class="chronicle-content">
            <div class="chronicle-badge">BLOG</div>
            <h2>OUR CULINARY CHRONICLE</h2>
            <p>Our journey is woven with food experiences, and culinary adventures from around the globe. Discover our delicious culinary explorations. Join us in savoring the essence of every dish and ingredient that touches our taste buds.</p>
            <a href="{% url 'about' %}" class="read-more-btn">READ MORE</a>
        </div>
        <div class="chronicle-images">
            <div class="chronicle-image">
                <img src="{% static 'images/chronicle/cooking-process.jpg' %}?v=1" alt="Cooking Process">
            </div>
            <div class="chronicle-image">
                <img src="{% static 'images/chronicle/ingredients.jpg' %}?v=1" alt="Fresh Ingredients">
            </div>
            <div class="chronicle-image large">
                <img src="{% static 'images/chronicle/chef-team.jpg' %}?v=1" alt="Our Chef Team">
            </div>
        </div>
    </div>
    </section>


{% endblock %}